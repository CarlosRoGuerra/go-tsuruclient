---
swagger: "2.0"
info:
  description: "Open source, extensible and Docker-based Platform as a Service (PaaS)"
  version: "1.6"
  title: "Tsuru"
schemes:
- "http"
paths:
  /1.0/apps:
    get:
      tags:
      - "app"
      description: "List apps."
      operationId: "AppList"
      produces:
      - "application/json"
      parameters:
      - name: "locked"
        in: "query"
        description: "Filter applications by lock status."
        required: false
        type: "boolean"
        x-exportParamName: "Locked"
      - name: "name"
        in: "query"
        description: "Filter applications by name."
        required: false
        type: "string"
        x-exportParamName: "Name"
      - name: "owner"
        in: "query"
        description: "Filter applications by owner."
        required: false
        type: "string"
        x-exportParamName: "Owner"
      - name: "platform"
        in: "query"
        description: "Filter applications by platform."
        required: false
        type: "string"
        x-exportParamName: "Platform"
      - name: "pool"
        in: "query"
        description: "Filter applications by pool."
        required: false
        type: "string"
        x-exportParamName: "Pool"
      - name: "status"
        in: "query"
        description: "Filter applications by unit status."
        required: false
        type: "string"
        x-exportParamName: "Status"
      - name: "tag"
        in: "query"
        description: "Filter applications by tag."
        required: false
        type: "array"
        items:
          type: "string"
        x-exportParamName: "Tag"
      - name: "teamOwner"
        in: "query"
        description: "Filter applications by team owner."
        required: false
        type: "string"
        x-exportParamName: "TeamOwner"
      responses:
        200:
          description: "List apps"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/MiniApp"
        204:
          description: "No content"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    post:
      tags:
      - "app"
      description: "Create a new app."
      operationId: "AppCreate"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "app"
        required: true
        schema:
          $ref: "#/definitions/App"
        x-exportParamName: "App"
      responses:
        201:
          description: "App created"
          schema:
            $ref: "#/definitions/AppCreateResponse"
        400:
          description: "Invalid data"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        403:
          description: "Quota exceeded"
          schema:
            $ref: "#/definitions/ErrorMessage"
        409:
          description: "App already exists"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.0/apps/{app}:
    get:
      tags:
      - "app"
      description: "Get info about a tsuru app."
      operationId: "AppGet"
      produces:
      - "application/json"
      parameters:
      - name: "app"
        in: "path"
        description: "Appname."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "App"
      responses:
        200:
          description: "App info"
          schema:
            $ref: "#/definitions/App"
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "App not found."
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    delete:
      tags:
      - "app"
      description: "Delete a tsuru app."
      operationId: "AppDelete"
      produces:
      - "application/x-json-stream"
      parameters:
      - name: "app"
        in: "path"
        description: "App name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "App"
      responses:
        200:
          description: "App removed."
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "App not found."
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.0/apps/{app}/env:
    get:
      tags:
      - "app"
      description: "Get app environment variables."
      operationId: "EnvGet"
      produces:
      - "application/json"
      parameters:
      - name: "app"
        in: "path"
        description: "App name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "App"
      - name: "env"
        in: "query"
        description: "Environment variable name."
        required: false
        type: "string"
        x-exportParamName: "Env"
      responses:
        200:
          description: "Environment variables"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Env"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "App not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    post:
      tags:
      - "app"
      description: "Set new environment variable."
      operationId: "EnvSet"
      consumes:
      - "application/json"
      produces:
      - "application/x-json-stream"
      parameters:
      - name: "app"
        in: "path"
        description: "App name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "App"
      - in: "body"
        name: "envs"
        description: "Environment variables."
        required: true
        schema:
          $ref: "#/definitions/EnvSetData"
        x-exportParamName: "Envs"
      responses:
        200:
          description: "Envs updated"
          schema:
            $ref: "#/definitions/EnvSetResponse"
        400:
          description: "Invalid data"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "App not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    delete:
      tags:
      - "app"
      description: "Unset app environment variables."
      operationId: "EnvUnset"
      produces:
      - "application/x-json-stream"
      parameters:
      - name: "app"
        in: "path"
        description: "App name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "App"
      - name: "env"
        in: "query"
        required: true
        type: "array"
        items:
          type: "string"
        collectionFormat: "multi"
        minItems: 1
        x-exportParamName: "Env"
      - name: "norestart"
        in: "query"
        required: true
        type: "boolean"
        x-exportParamName: "Norestart"
      responses:
        200:
          description: "Envs deleted"
        400:
          description: "Invalid data"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "App not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.2/node:
    post:
      tags:
      - "node"
      description: "Add a node."
      operationId: "NodeAdd"
      consumes:
      - "application/json"
      produces:
      - "application/x-json-stream"
      parameters:
      - in: "body"
        name: "nodeAddData"
        required: true
        schema:
          $ref: "#/definitions/NodeAddData"
        x-exportParamName: "NodeAddData"
      responses:
        201:
          description: "Ok"
        400:
          description: "Invalid parameters"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    put:
      tags:
      - "node"
      description: "Update node."
      operationId: "NodeUpdate"
      consumes:
      - "application/json"
      parameters:
      - in: "body"
        name: "nodeUpdateData"
        required: true
        schema:
          $ref: "#/definitions/NodeUpdateData"
        x-exportParamName: "NodeUpdateData"
      responses:
        200:
          description: "Ok"
        400:
          description: "Invalid data"
          schema:
            $ref: "#/definitions/ErrorMessage"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.2/node/{address}:
    get:
      tags:
      - "node"
      description: "Get node information."
      operationId: "NodeGet"
      produces:
      - "application/json"
      parameters:
      - name: "address"
        in: "path"
        description: "Node address."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Address"
      responses:
        200:
          description: "Ok"
          schema:
            $ref: "#/definitions/NodeGetResponse"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    delete:
      tags:
      - "node"
      description: "Remove node."
      operationId: "NodeDelete"
      parameters:
      - name: "address"
        in: "path"
        description: "Node address."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Address"
      - name: "no-rebalance"
        in: "query"
        description: "Trigger node rebalance."
        required: true
        type: "boolean"
        x-exportParamName: "NoRebalance"
      - name: "remove-iaas"
        in: "query"
        description: "Remove machine from IaaS."
        required: true
        type: "boolean"
        x-exportParamName: "RemoveIaas"
      responses:
        200:
          description: "Ok"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.4/volumes:
    get:
      tags:
      - "volume"
      description: "List volumes."
      operationId: "VolumeList"
      produces:
      - "application/json"
      parameters: []
      responses:
        200:
          description: "List volumes"
          schema:
            $ref: "#/definitions/VolumeListResponse"
        204:
          description: "No content"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    post:
      tags:
      - "volume"
      description: "Create volume."
      operationId: "VolumeCreate"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "volumeData"
        required: true
        schema:
          $ref: "#/definitions/Volume"
        x-exportParamName: "VolumeData"
      responses:
        201:
          description: "Volume created"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        409:
          description: "Volume already exists"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.4/volumes/{volume}:
    get:
      tags:
      - "volume"
      description: "Get a volume."
      operationId: "VolumeGet"
      produces:
      - "application/json"
      parameters:
      - name: "volume"
        in: "path"
        description: "Volume name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Volume"
      responses:
        200:
          description: "Volume"
          schema:
            $ref: "#/definitions/Volume"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        409:
          description: "Volume already exists"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    delete:
      tags:
      - "volume"
      description: "Delete volume."
      operationId: "VolumeDelete"
      produces:
      - "application/json"
      parameters:
      - name: "volume"
        in: "path"
        description: "Volume name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Volume"
      responses:
        200:
          description: "Volume deleted"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Volume not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.4/volumes/{volume}/bind:
    post:
      tags:
      - "volume"
      description: "Bind volume."
      operationId: "VolumeBind"
      produces:
      - "application/json"
      parameters:
      - name: "volume"
        in: "path"
        description: "Volume name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Volume"
      - in: "body"
        name: "BindData"
        required: false
        schema:
          $ref: "#/definitions/VolumeBindData"
        x-exportParamName: "BindData"
      responses:
        200:
          description: "Volume bind"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Volume not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
        409:
          description: "Volume bind already exists"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
    delete:
      tags:
      - "volume"
      description: "Unbind volume."
      operationId: "VolumeUnbind"
      produces:
      - "application/json"
      parameters:
      - name: "volume"
        in: "path"
        description: "Volume name."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "Volume"
      - in: "body"
        name: "BindData"
        required: false
        schema:
          $ref: "#/definitions/VolumeBindData"
        x-exportParamName: "BindData"
      responses:
        200:
          description: "Volume unbinded"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Volume not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.4/volumeplans:
    get:
      tags:
      - "volume"
      description: "List volume plans."
      operationId: "VolumePlansList"
      produces:
      - "application/json"
      parameters: []
      responses:
        200:
          description: "Volume plans list"
          schema:
            $ref: "#/definitions/VolumePlansListResponse"
        401:
          description: "Unauthorized"
          schema:
            $ref: "#/definitions/ErrorMessage"
      security:
      - Bearer: []
  /1.6/roles/{role_name}/token:
    post:
      tags:
      - "auth"
      description: "Assigns a role to a team token."
      operationId: "AssignRoleToToken"
      consumes:
      - "application/json"
      parameters:
      - name: "role_name"
        in: "path"
        required: true
        type: "string"
        x-exportParamName: "RoleName"
      - in: "body"
        name: "token"
        required: true
        schema:
          $ref: "#/definitions/AssignTokenArgs"
        x-exportParamName: "Token"
      responses:
        200:
          description: "Role assigned."
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Role or token not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /1.6/roles/{role_name}/token/{token_id}:
    delete:
      tags:
      - "auth"
      description: "Dissociates a role from a team token."
      operationId: "DissociateRoleFromToken"
      parameters:
      - name: "role_name"
        in: "path"
        required: true
        type: "string"
        x-exportParamName: "RoleName"
      - name: "token_id"
        in: "path"
        required: true
        type: "string"
        x-exportParamName: "TokenId"
      - name: "context"
        in: "query"
        required: true
        type: "string"
        x-exportParamName: "Context"
      responses:
        200:
          description: "Role dissociated."
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Role or token not found"
          schema:
            $ref: "#/definitions/ErrorMessage"
  /1.6/tokens:
    get:
      tags:
      - "auth"
      description: "List team tokens."
      operationId: "TeamTokensList"
      produces:
      - "application/json"
      parameters: []
      responses:
        200:
          description: "Team tokens list."
          schema:
            type: "array"
            items:
              $ref: "#/definitions/TeamToken"
        204:
          description: "No content."
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
    post:
      tags:
      - "auth"
      description: "Creates a team token."
      operationId: "TeamTokenCreate"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "token"
        required: true
        schema:
          $ref: "#/definitions/TeamTokenCreateArgs"
        x-exportParamName: "Token"
      responses:
        201:
          description: "Team token created."
          schema:
            $ref: "#/definitions/TeamToken"
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        409:
          description: "Token with the same ID already exists."
          schema:
            $ref: "#/definitions/ErrorMessage"
  /1.6/tokens/{token_id}:
    put:
      tags:
      - "auth"
      description: "Updates a team token."
      operationId: "TeamTokenUpdate"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - name: "token_id"
        in: "path"
        description: "Token ID."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "TokenId"
      - in: "body"
        name: "token"
        required: true
        schema:
          $ref: "#/definitions/TeamTokenUpdateArgs"
        x-exportParamName: "Token"
      responses:
        200:
          description: "Team token updated."
          schema:
            $ref: "#/definitions/TeamToken"
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Team token not found."
          schema:
            $ref: "#/definitions/ErrorMessage"
    delete:
      tags:
      - "auth"
      description: "Deletes a team token."
      operationId: "TeamTokenDelete"
      parameters:
      - name: "token_id"
        in: "path"
        description: "Token ID."
        required: true
        type: "string"
        minLength: 1
        x-exportParamName: "TokenId"
      responses:
        200:
          description: "Team token deleted."
        401:
          description: "Unauthorized."
          schema:
            $ref: "#/definitions/ErrorMessage"
        404:
          description: "Team token not found."
          schema:
            $ref: "#/definitions/ErrorMessage"
securityDefinitions:
  Bearer:
    type: "apiKey"
    name: "Authorization"
    in: "header"
definitions:
  ErrorMessage:
    type: "string"
    description: "Error message."
  NodeUpdateData:
    type: "object"
    properties:
      address:
        type: "string"
      pool:
        type: "string"
      metadata:
        type: "object"
        additionalProperties:
          type: "string"
      enable:
        type: "boolean"
      disable:
        type: "boolean"
    example:
      metadata:
        key: "metadata"
      address: "address"
      enable: true
      disable: true
      pool: "pool"
  NodeAddData:
    type: "object"
    properties:
      address:
        type: "string"
      cacert:
        type: "string"
        description: "Docker API CA certificate."
      clientcert:
        type: "string"
        description: "Docker API client certificate."
      clientkey:
        type: "string"
        description: "Docker API client key."
      register:
        type: "boolean"
        description: "Register an existing node."
      waitto:
        type: "integer"
        format: "int64"
        description: "Timeout in nanoseconds."
      metadata:
        type: "object"
        additionalProperties:
          type: "string"
    example:
      metadata:
        key: "metadata"
      address: "address"
      clientcert: "clientcert"
      clientkey: "clientkey"
      cacert: "cacert"
      waitto: 0
      register: true
  NodeGetResponse:
    type: "object"
    properties:
      node:
        $ref: "#/definitions/Node"
      status:
        $ref: "#/definitions/NodeStatus"
      units:
        $ref: "#/definitions/Unit"
    example:
      node:
        provisioner: "provisioner"
        metadata:
          key: "metadata"
        address: "address"
        iaasid: "iaasid"
        pool: "pool"
        status: "status"
      units:
        address:
          scheme: "scheme"
          host: "host"
        appname: "appname"
        processname: "processname"
        ip: "ip"
        name: "name"
        id: "id"
        type: "type"
        status: "status"
      status:
        address: "address"
        checks:
        - checks:
          - err: "err"
            name: "name"
            successful: true
          - err: "err"
            name: "name"
            successful: true
          time: "2000-01-23T04:56:07.000+00:00"
        - checks:
          - err: "err"
            name: "name"
            successful: true
          - err: "err"
            name: "name"
            successful: true
          time: "2000-01-23T04:56:07.000+00:00"
        lastsuccess: "2000-01-23T04:56:07.000+00:00"
        lastupdate: "2000-01-23T04:56:07.000+00:00"
  Node:
    type: "object"
    properties:
      address:
        type: "string"
      iaasid:
        type: "string"
      status:
        type: "string"
      pool:
        type: "string"
      provisioner:
        type: "string"
      metadata:
        type: "object"
        additionalProperties:
          type: "string"
    example:
      provisioner: "provisioner"
      metadata:
        key: "metadata"
      address: "address"
      iaasid: "iaasid"
      pool: "pool"
      status: "status"
  NodeStatus:
    type: "object"
    properties:
      address:
        type: "string"
      checks:
        type: "array"
        items:
          $ref: "#/definitions/NodeCheck"
      lastsuccess:
        type: "string"
        format: "date-time"
      lastupdate:
        type: "string"
        format: "date-time"
    example:
      address: "address"
      checks:
      - checks:
        - err: "err"
          name: "name"
          successful: true
        - err: "err"
          name: "name"
          successful: true
        time: "2000-01-23T04:56:07.000+00:00"
      - checks:
        - err: "err"
          name: "name"
          successful: true
        - err: "err"
          name: "name"
          successful: true
        time: "2000-01-23T04:56:07.000+00:00"
      lastsuccess: "2000-01-23T04:56:07.000+00:00"
      lastupdate: "2000-01-23T04:56:07.000+00:00"
  NodeCheck:
    type: "object"
    properties:
      time:
        type: "string"
        format: "date-time"
      checks:
        type: "array"
        items:
          $ref: "#/definitions/NodeCheckResult"
    example:
      checks:
      - err: "err"
        name: "name"
        successful: true
      - err: "err"
        name: "name"
        successful: true
      time: "2000-01-23T04:56:07.000+00:00"
  NodeCheckResult:
    type: "object"
    properties:
      name:
        type: "string"
      err:
        type: "string"
      successful:
        type: "boolean"
    example:
      err: "err"
      name: "name"
      successful: true
  VolumeListResponse:
    type: "array"
    description: "Response returned by Volume List."
    items:
      $ref: "#/definitions/Volume"
  VolumePlansListResponse:
    type: "object"
    description: "Response returned by Volume Plans list."
    additionalProperties:
      $ref: "#/definitions/VolumePlan"
  Volume:
    type: "object"
    properties:
      name:
        type: "string"
        description: "Volume name."
      pool:
        type: "string"
        description: "Volume pool."
      teamOwner:
        type: "string"
        description: "Team that owns the volume."
      status:
        type: "string"
        description: "Volume status."
      plan:
        description: "Volume plan."
        $ref: "#/definitions/VolumePlan"
      binds:
        type: "array"
        description: "Volume binds."
        items:
          $ref: "#/definitions/VolumeBind"
      opts:
        type: "object"
        description: "Custom volume options."
        additionalProperties:
          type: "string"
    description: "Volume"
    example:
      teamOwner: "teamOwner"
      binds:
      - readonly: true
        id:
          app: "app"
          volume: "volume"
          mountpoint: "mountpoint"
      - readonly: true
        id:
          app: "app"
          volume: "volume"
          mountpoint: "mountpoint"
      opts:
        key: "opts"
      name: "name"
      pool: "pool"
      plan:
        opts:
          key: "opts"
        name: "name"
      status: "status"
  VolumePlan:
    type: "object"
    properties:
      name:
        type: "string"
        description: "Volume plan name."
      opts:
        type: "object"
        description: "Volume plan opts."
        additionalProperties:
          type: "string"
    description: "Volume plan."
    example:
      opts:
        key: "opts"
      name: "name"
  VolumeBind:
    type: "object"
    properties:
      id:
        description: "Volume bind ID."
        $ref: "#/definitions/VolumeBindID"
      readonly:
        type: "boolean"
        description: "Volume is read-only."
    example:
      readonly: true
      id:
        app: "app"
        volume: "volume"
        mountpoint: "mountpoint"
  VolumeBindID:
    type: "object"
    properties:
      app:
        type: "string"
        description: "App the volume is bound to."
      mountpoint:
        type: "string"
        description: "Volume mountpoint."
      volume:
        type: "string"
        description: "Volume name."
    example:
      app: "app"
      volume: "volume"
      mountpoint: "mountpoint"
  VolumeBindData:
    type: "object"
    properties:
      mountpoint:
        type: "string"
      norestart:
        type: "boolean"
      readonly:
        type: "boolean"
    example:
      readonly: true
      norestart: true
      mountpoint: "mountpoint"
  App:
    type: "object"
    required:
    - "name"
    properties:
      name:
        type: "string"
        description: "App name."
      tag:
        type: "array"
        description: "App tags."
        items:
          type: "string"
      router:
        type: "string"
        description: "App router."
      routeropts:
        type: "object"
        description: "Custom router options."
        additionalProperties:
          type: "string"
      plan:
        type: "string"
        description: "App plan."
      pool:
        type: "string"
        description: "App pool."
      platform:
        type: "string"
        description: "App platform."
      description:
        type: "string"
        description: "App description."
      teamOwner:
        type: "string"
        description: "Team that owns the app."
    description: "Tsuru app."
    example:
      teamOwner: "teamOwner"
      router: "router"
      name: "name"
      pool: "pool"
      routeropts:
        key: "routeropts"
      description: "description"
      tag:
      - "tag"
      - "tag"
      plan: "plan"
      platform: "platform"
  AppCreateResponse:
    type: "object"
    properties:
      status:
        type: "string"
      repository_url:
        type: "string"
      ip:
        type: "string"
    description: "Newly created app information."
    example:
      ip: "ip"
      repository_url: "repository_url"
      status: "status"
  MiniApp:
    type: "object"
    properties:
      name:
        type: "string"
      pool:
        type: "string"
      teamOwner:
        type: "string"
      plan:
        $ref: "#/definitions/Plan"
      units:
        type: "array"
        items:
          $ref: "#/definitions/Unit"
      cname:
        type: "array"
        items:
          type: "string"
      ip:
        type: "string"
      routers:
        type: "array"
        items:
          $ref: "#/definitions/Router"
      lock:
        $ref: "#/definitions/Lock"
      tags:
        type: "array"
        items:
          type: "string"
      error:
        type: "string"
    description: "List containing minimal information about apps."
    example:
      teamOwner: "teamOwner"
      ip: "ip"
      name: "name"
      pool: "pool"
      cname:
      - "cname"
      - "cname"
      lock:
        owner: "owner"
        reason: "reason"
        acquireDate: "acquireDate"
        locked: true
      units:
      - address:
          scheme: "scheme"
          host: "host"
        appname: "appname"
        processname: "processname"
        ip: "ip"
        name: "name"
        id: "id"
        type: "type"
        status: "status"
      - address:
          scheme: "scheme"
          host: "host"
        appname: "appname"
        processname: "processname"
        ip: "ip"
        name: "name"
        id: "id"
        type: "type"
        status: "status"
      error: "error"
      plan:
        default: true
        memory: 0
        swap: 0
        name: "name"
        cpushare: 0
      routers:
      - opts:
          key: "opts"
        status-detail: "status-detail"
        name: "name"
        addres: "addres"
        type: "type"
        status: "status"
      - opts:
          key: "opts"
        status-detail: "status-detail"
        name: "name"
        addres: "addres"
        type: "type"
        status: "status"
      tags:
      - "tags"
      - "tags"
  Plan:
    type: "object"
    properties:
      name:
        type: "string"
      memory:
        type: "integer"
        format: "int64"
        minimum: 0
      swap:
        type: "integer"
        format: "int64"
        minimum: 0
      cpushare:
        type: "integer"
        minimum: 0
      default:
        type: "boolean"
    description: "App plan."
    example:
      default: true
      memory: 0
      swap: 0
      name: "name"
      cpushare: 0
  Env:
    type: "object"
    properties:
      name:
        type: "string"
      value:
        type: "string"
    description: "Environment variable."
    example:
      name: "name"
      value: "value"
  EnvSetData:
    type: "object"
    properties:
      envs:
        type: "array"
        items:
          $ref: "#/definitions/Env"
        minItems: 1
      norestart:
        type: "boolean"
      private:
        type: "boolean"
    description: "Data sent to the environment set endpoint."
    example:
      private: true
      envs:
      - name: "name"
        value: "value"
      - name: "name"
        value: "value"
      norestart: true
  EnvSetResponse:
    type: "array"
    description: "Environment variables response information."
    items:
      $ref: "#/definitions/EnvSetResponse_inner"
  Unit:
    type: "object"
    properties:
      id:
        type: "string"
      name:
        type: "string"
      appname:
        type: "string"
      processname:
        type: "string"
      type:
        type: "string"
      ip:
        type: "string"
      status:
        type: "string"
      address:
        $ref: "#/definitions/URL"
    example:
      address:
        scheme: "scheme"
        host: "host"
      appname: "appname"
      processname: "processname"
      ip: "ip"
      name: "name"
      id: "id"
      type: "type"
      status: "status"
  Router:
    type: "object"
    properties:
      name:
        type: "string"
      opts:
        type: "object"
        additionalProperties:
          type: "string"
      addres:
        type: "string"
      type:
        type: "string"
      status:
        type: "string"
      status-detail:
        type: "string"
    example:
      opts:
        key: "opts"
      status-detail: "status-detail"
      name: "name"
      addres: "addres"
      type: "type"
      status: "status"
  Lock:
    type: "object"
    properties:
      locked:
        type: "boolean"
      reason:
        type: "string"
      owner:
        type: "string"
      acquireDate:
        type: "string"
    example:
      owner: "owner"
      reason: "reason"
      acquireDate: "acquireDate"
      locked: true
  URL:
    type: "object"
    properties:
      scheme:
        type: "string"
      host:
        type: "string"
    example:
      scheme: "scheme"
      host: "host"
  TeamTokenUpdateArgs:
    properties:
      regenerate:
        type: "boolean"
      description:
        type: "string"
      expires_in:
        type: "integer"
        format: "int64"
        description: "Expire time in seconds, using a negative value removes the expiration."
    description: "Arguments for updating an existing team token."
    example:
      regenerate: true
      description: "description"
      expires_in: 0
  TeamTokenCreateArgs:
    type: "object"
    required:
    - "team"
    properties:
      token_id:
        type: "string"
      description:
        type: "string"
      expires_in:
        type: "integer"
        format: "int64"
        description: "Expire time in seconds."
      team:
        type: "string"
    description: "Arguments for creating a new team token."
    example:
      token_id: "token_id"
      description: "description"
      team: "team"
      expires_in: 0
  TeamToken:
    type: "object"
    properties:
      token:
        type: "string"
      token_id:
        type: "string"
      description:
        type: "string"
      created_at:
        type: "string"
        format: "date-time"
      expires_at:
        type: "string"
        format: "date-time"
      last_access:
        type: "string"
        format: "date-time"
      creator_email:
        type: "string"
      team:
        type: "string"
      roles:
        type: "array"
        items:
          $ref: "#/definitions/RoleInstance"
    description: "An authorization token associated to a team."
    example:
      last_access: "2000-01-23T04:56:07.000+00:00"
      expires_at: "2000-01-23T04:56:07.000+00:00"
      token_id: "token_id"
      creator_email: "creator_email"
      roles:
      - name: "name"
        contextvalue: "contextvalue"
      - name: "name"
        contextvalue: "contextvalue"
      description: "description"
      created_at: "2000-01-23T04:56:07.000+00:00"
      team: "team"
      token: "token"
  RoleInstance:
    type: "object"
    properties:
      name:
        type: "string"
      contextvalue:
        type: "string"
    description: "Association between a role and a context value."
    example:
      name: "name"
      contextvalue: "contextvalue"
  AssignTokenArgs:
    type: "object"
    properties:
      token_id:
        type: "string"
      context:
        type: "string"
    description: "Assign role to token arguments."
    example:
      token_id: "token_id"
      context: "context"
  EnvSetResponse_inner:
    properties:
      name:
        type: "string"
      value:
        type: "string"
      public:
        type: "boolean"
